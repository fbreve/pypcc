# -*- coding: utf-8 -*-
"""
Created on Wed Oct  7 14:41:55 2020

@author: fbrev
"""

Date Format: DD/MM/YY

16/04/26:
- Implemented Cython version. Now Cython/Numba/Numpy versions can be selected
  through the 'impl' parameter.
- Benchmark code updated to include Cython.
- build_graph now supports 'metric' and 'p' parameters.

07/01/26:
- Separated graph construction from the PCC core into the module pcc_graph
  (build_knn_graph and build_graph_from_edge_index).
- Added the set_graph(neib_list, neib_qt) method to allow using pre-defined
  graphs (e.g., citation networks such as Cora).
- Modified the PCC internals to depend only on the graph size (n_nodes) from
  neib_list instead of the original data matrix, enabling runs without features.
- Exposed additional outputs related to soft labels: node dominance
  (node.dominance) and the owndeg matrix, so that soft label information
  and degree weights can be inspected after fit_predict.

16/12/2025:
- Included a benchmark script to compute the speedup of the Numba version.

15/12/2025:
- Made some optimization in the code based on Perplexity tips.
- Made a numba version of the main loop, based on Perplexity tips. The pure
Numpy version was renamed to pcc_numpy. The Numba version is ~75 times faster
then the pure Numpy version.


07/10/2020:
- Changed the stop criterion to be less conservative. It now considers the
amount of nodes, the amound of particles and also the amount of k-nearest 
neighbors in the graph construction to calculate how many iterations it 
should wait on the "stable" phase before it stops. k-nearest neighbors gives a
clue on how connected the network is, we usually need less "stable" iterations
in more connected networks.
- Included an option ('early_stop') to turn off the stop criterion. If 
'early_stop' is False, the algorithm will run the number of iterations defined
in 'max_iter'.
- Fixed a bug where the 'es_chk' parameter was being ignored and the default
value ('2000') was always assumed.